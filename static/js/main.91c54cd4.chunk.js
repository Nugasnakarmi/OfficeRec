(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(64),l=a.n(s),r=(a(74),a(4)),o=a(5),c=a(7),m=a(6),d=a(8),u=a(12),h=a.n(u),p=h.a.initializeApp({apiKey:"AIzaSyDx3zXrXm4vTJxd9-ROOf4lLtdVIcugwe0",authDomain:"test-742c5.firebaseapp.com",databaseURL:"https://test-742c5.firebaseio.com",projectId:"test-742c5",storageBucket:"test-742c5.appspot.com",messagingSenderId:"629550931392"}),b=(a(128),a(9)),f=a(2),g=(a(129),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).login=a.login.bind(Object(f.a)(Object(f.a)(a))),a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.state={email:"",password:""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"login",value:function(e){e.preventDefault(),p.auth().signInWithEmailAndPassword(this.state.email,this.state.password).catch(function(e){window.alert("Wrong Login Details",e)})}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return i.a.createElement("div",{className:"row pad"},i.a.createElement("div",{className:"col-3"}),i.a.createElement("div",{className:"col-6 jumbotron shadow"},i.a.createElement("form",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"InputEmail1"}," Email Address"),i.a.createElement("input",{value:this.state.email,onChange:this.handleChange,type:"email",name:"email",className:"form-control",id:"InputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),i.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"}," We will never share your email with anyone else.")),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"InputPassword1"},"Password"),i.a.createElement("input",{value:this.state.password,onChange:this.handleChange,type:"password",name:"password",className:"form-control",id:"InputPassword1",placeholder:"Enter password"})),i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("button",{type:"submit",onClick:this.login,className:"btn btn-primary loginbutton"}," Login ")),i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"To register, contact your administrator.")))),i.a.createElement("div",{className:"col-3"}))}}]),t}(n.Component));a(130);function E(e){if("string"!==typeof e){var t,a=(t=e.toDate()).getDate(),n=t.getMonth(),i=t.getFullYear();return function(e){var t=e%10,a=e%100;return 1===t&&11!==a?e+"st":2===t&&12!==a?e+"nd":3===t&&13!==a?e+"rd":e+"th"}(a)+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+", "+i}return console.log("is string"),e}var v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={userInfo:""},a.db=p.firestore(),p.storage().ref(a.props.user+"/profilepic.jpg").getDownloadURL().then(function(e){a.setState({imageUrl:e})}).catch(function(e){return console.error("Error in photo loading")}),a.props.user&&a.db.collection("UserBase").doc(a.props.user).get().then(function(e){a.setState({userInfo:e.data()}),localStorage.setItem("localInfo",JSON.stringify(e.data())),a.storedData=JSON.parse(localStorage.getItem("localInfo"))}),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.userInfo["Date of Birth"];return i.a.createElement("div",{className:"abc"},i.a.createElement("h1",{className:"mainwindow-header"},"Dashboard"),i.a.createElement("div",{className:"dashboard-content row"},i.a.createElement("div",{className:"col-6"},i.a.createElement("p",{className:"content-para"},"User ID: ",this.props.user),i.a.createElement("p",{className:"content-para"},"Name: ",this.storedData?this.storedData.Name:this.state.userInfo.Name),i.a.createElement("p",{className:"content-para"},"Citizenship Number: ",this.storedData?this.storedData["Citizenship Number"]:this.state.userInfo["Citizenship Number"]),i.a.createElement("p",{className:"content-para"},"Date of Birth: ",e?E(e):"Not Available")),i.a.createElement("div",{className:"col-6"},this.state.imageUrl?i.a.createElement("img",{src:this.state.imageUrl,className:"rounded-photo img-fluid img-thumbnail rounded float-right",alt:"Profile Picture",width:"200",height:"200"}):i.a.createElement("img",{src:"https://cdn.pixabay.com/photo/2016/11/14/17/39/person-1824147_960_720.png",className:"rounded-photo img-fluid img-thumbnail rounded float-right",alt:"Profile Picture",width:"150",height:"150"}))))}}]),t}(n.Component),w=(a(62),{height:"40px"}),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggle=a.toggle.bind(Object(f.a)(Object(f.a)(a))),a.state={dash:"",details:"",toggler:!0,user:""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({toggler:!0})}},{key:"render",value:function(){var e=this,t=this.props.link,a=this.state.user;return!this.state.user&&this.props.user&&this.setState({user:this.props.user}),"Dashboard"===t&&this.state.toggler?this.setState({toggler:!1,dash:"active",details:""}):"Details"===t&&this.state.toggler?this.setState({toggler:!1,details:"active",dash:""}):!t&&this.state.toggler&&this.setState({toggler:!1,dash:"",details:""}),i.a.createElement("div",null,this.state.user?i.a.createElement("div",{onClick:this.toggle,className:"d-flex bd-highlight"},i.a.createElement("span",{className:"abc",onClick:function(){e.props.handler("Dashboard")},status:this.state.dash},"Dashboard"),i.a.createElement("span",{className:"abc",onClick:function(){e.props.handler("Details")},status:this.state.details},"Details"),i.a.createElement("span",{className:"flex-grow-1 d-flex justify-content-end"},i.a.createElement("span",{className:"abc"},"Hi ",a,"!!"),i.a.createElement("button",{type:"submit",onClick:function(){e.props.signout()},className:"btn btn-outline-primary",style:w}," Logout "))):i.a.createElement("h1",null,"waiting"))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){return a.setState(Object(b.a)({},e.target.name,e.target.value))},a.state={userInfo:"",email:"",searched:!1},a.db=p.firestore(),a.getUserDetails=a.getUserDetails.bind(Object(f.a)(Object(f.a)(a))),a.handleClick=a.handleClick.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getUserDetails",value:function(e){var t=this;""!==e&&this.db.collection("UserBase").doc(e).get().then(function(e){t.setState({userInfo:e.data(),searched:!0})}).catch(function(e){console.log(e.message),window.alert("user not found")})}},{key:"handleClick",value:function(){""!==this.state.email?this.getUserDetails(this.state.email):window.alert("enter email please")}},{key:"render",value:function(){var e=this.state.userInfo["Date of Birth"];return i.a.createElement("div",{className:"admin-panel"},i.a.createElement("h1",null,"Admin Panel"),i.a.createElement("p",null,"Search and view User Records here"),i.a.createElement("form",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("input",{value:this.state.email,name:"email",type:"email",onChange:this.handleChange,className:"form-control",id:"Inputname1",placeholder:"Enter email"}),i.a.createElement("label",{htmlFor:"Inputemail1"},i.a.createElement("small",null,"email of user ")," "))),i.a.createElement("button",{onClick:this.handleClick,className:"btn btn-primary"},"Search"),this.state.searched?i.a.createElement("div",{className:"precords-content"},i.a.createElement("p",{className:"content-para"},"User Email: ",this.state.email),console.log("displaying"),i.a.createElement("p",{className:"content-para"},"Name: ",this.state.userInfo.Name),i.a.createElement("p",{className:"content-para"},"Citizenship Number: ",this.state.userInfo["Citizenship Number"]),i.a.createElement("p",{className:"content-para"},"Date of Birth: ",e?E(e):"Not Available")):i.a.createElement("div",null,i.a.createElement("small",null," ",i.a.createElement("i",null," Please search for user"))))}}]),t}(n.Component),j=(a(131),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a.display="",a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("received props",this.props.details),console.log("CDM")}},{key:"render",value:function(){return console.log("RENDER"),i.a.createElement("div",{className:"item-box"},i.a.createElement("h3",null,"Land at ",this.props.details.Location.municipality," Kitta ",this.props.details.kittaId),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"location col-6"},i.a.createElement("p",{className:"content-para location-heading"},"Location"),i.a.createElement("p",{className:"content-para"},"Province: ",this.props.details.Location.province),i.a.createElement("p",{className:"content-para"},"District: ",this.props.details.Location.district),i.a.createElement("p",{className:"content-para"},"Municipality: ",this.props.details.Location.municipality),i.a.createElement("p",{className:"content-para"},"Ward Number: ",this.props.details.Location.ward)),i.a.createElement("div",{className:"col-6"},i.a.createElement("img",{className:"img-responsive",src:"https://shellabears.com.au/wp-content/themes/shellabears/images/suburb-icon-sold-pin.png",height:"75",width:"75"})),i.a.createElement("div",{className:"col-6"},i.a.createElement("p",{className:"content-para"},"Area: ",this.props.details.area," sq. meter"),i.a.createElement("p",{className:"content-para"},"\u0915\u093f\u0924\u094d\u0924\u093e: ",this.props.details.kittaId)),i.a.createElement("div",{className:"col-6"},i.a.createElement("p",{className:"content-para"},"Tax Amount: NRs. ",this.props.details.taxAmount),i.a.createElement("p",{className:"content-para"},"Due: ",E(this.props.details["due date"])))))}}]),t}(n.Component)),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.details)}},{key:"render",value:function(){return i.a.createElement("div",null,"vehicle")}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.details)}},{key:"render",value:function(){return i.a.createElement("div",null,"Income")}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).taxTypes=["land-tax","vehicle-tax","income-tax"],a.dataObject={},a.getSubcollections=a.getSubcollections.bind(Object(f.a)(Object(f.a)(a))),a.filterData=a.filterData.bind(Object(f.a)(Object(f.a)(a))),a.landData=[],a.vehicleData=[],a.incomeData=[],a.state={loaded:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.db=p.firestore();var e=!0,t=!1,a=void 0;try{for(var n,i=this.taxTypes[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value;this.getSubcollections(s)}}catch(l){t=!0,a=l}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}console.log("All collections names passed")}},{key:"getSubcollections",value:function(e){var t=this;if(this.props.user){console.log("GetSubCollection runs for",e);var a="UserBase/"+this.props.user+"/"+e;this.db.collection(a).get().then(function(a){var n=1;a.forEach(function(a){var i=e+n;t.dataObject[i]=a.data(),n++})}).then(this.filterData)}}},{key:"filterData",value:function(){if(console.log("Data fetched from userbase",this.dataObject),this.landData=[],this.vehicleData=[],this.incomeData=[],this.dataObject){for(var e in this.dataObject)console.log("key",e),e.includes("land-tax")?this.landData.push(this.dataObject[e]):e.includes("vehicle-tax")?this.vehicleData.push(this.dataObject[e]):e.includes("income-tax")&&this.incomeData.push(this.dataObject[e]);this.setState({loaded:!this.state.loaded})}}},{key:"render",value:function(){return console.log("Render starts"),this.landData&&this.vehicleData&&this.incomeData&&(console.log("LandData",this.landData),console.log("VehicleData",this.vehicleData),console.log("IncomeData",this.incomeData)),console.log("loaded?",this.state.loaded),i.a.createElement("div",{className:"container"},i.a.createElement("h2",null,"The Details Pane"),this.landData.length?this.landData.map(function(e){return i.a.createElement(j,{details:e})}):"",this.vehicleData.length?this.vehicleData.map(function(e){return i.a.createElement(D,{details:e})}):"",this.incomeData.length?this.incomeData.map(function(e){return i.a.createElement(O,{details:e})}):"")}}]),t}(n.Component),k={height:"40px"},x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggle=a.toggle.bind(Object(f.a)(Object(f.a)(a))),a.state={dash:"",add_user:"",edit_details:"",toggler:!0,user:""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({toggler:!0})}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.link,a=this.state.user;return!this.state.user&&this.props.user&&this.setState({user:this.props.user}),"Dashboard"===t&&this.state.toggler?this.setState({toggler:!1,dash:"active",add_user:"",edit_details:""}):"Add User"===t&&this.state.toggler?this.setState({toggler:!1,dash:"",add_user:"active",edit_details:""}):"Edit Details"===t&&this.state.toggler?this.setState({toggler:!1,dash:"",add_user:"",edit_details:"active"}):!t&&this.state.toggler&&this.setState({toggler:!1,dash:"",details:""}),i.a.createElement("div",null,this.state.user?i.a.createElement("div",{onClick:this.toggle,className:"d-flex bd-highlight"},i.a.createElement("span",{className:"abc",onClick:function(){e.props.handler("Dashboard")},status:this.state.dash},"Dashboard"),i.a.createElement("span",{className:"abc",onClick:function(){e.props.handler("Add User")},status:this.state.add_user},"Add User"),i.a.createElement("span",{className:"abc",onClick:function(){e.props.handler("Edit Details")},status:this.state.edit_details},"Edit Details"),i.a.createElement("span",{className:"flex-grow-1 d-flex justify-content-end"},i.a.createElement("span",{className:"abc"},"Hi ",a,"!!"),i.a.createElement("button",{type:"submit",onClick:function(){e.props.signout()},className:"btn btn-outline-primary",style:k}," Logout "))):i.a.createElement("h1",null,"waiting"))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){return a.setState(Object(b.a)({},e.target.name,e.target.value))},a.state={userInfo:"",email:""},a.count=0,a.db=p.firestore(),a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.dropChange=a.dropChange.bind(Object(f.a)(Object(f.a)(a))),a.writeDetails=a.writeDetails.bind(Object(f.a)(Object(f.a)(a))),a.writeVehicleDetails=a.writeVehicleDetails.bind(Object(f.a)(Object(f.a)(a))),a.writeLandDetails=a.writeLandDetails.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"writeDetails",value:function(e){var t;e.preventDefault(),this.db.collection("UserBase").doc(this.state.email).set((t={},Object(b.a)(t,"Citizenship Number",this.state.citizenship_num),Object(b.a)(t,"Date of Birth",this.state.dob),Object(b.a)(t,"Name",this.state.name),Object(b.a)(t,"isAdmin",!1),t)).then(function(){console.log("Document successfully written!")}).catch(function(e){console.error("Error writing document: ",e)})}},{key:"writeVehicleDetails",value:function(e){var t=this;if(e.preventDefault(),this.state.email){var a=document.getElementById("drop-vehicle").selectedIndex;this.db.collection("UserBase").doc(this.state.email).get().then(function(e){e.data()?(0===a?t.db.collection("UserBase").doc(t.state.email).collection("vehicle-tax").doc(t.state.VRN).set({amount:parseFloat(t.state.taxAmount),due:h.a.firestore.Timestamp.fromDate(new Date(t.state.dueDate)),type:"2 wheeler"},{merge:!0}).then(function(){window.alert("updated successfully")}).catch(function(e){window.alert(e.message)}):(console.log("4 wheeler"),t.db.collection("UserBase").doc(t.state.email).collection("vehicle-tax").doc(t.state.VRN).set({amount:parseFloat(t.state.taxAmount),due:h.a.firestore.Timestamp.fromDate(new Date(t.state.dueDate)),type:"4 wheeler"},{merge:!0}).then(function(){window.alert("updated successfully")}).catch(function(e){window.alert(e.message)})),console.log(e.data())):window.alert("User does not exist")}),console.log(a+1)}else window.alert("User cannot be empty")}},{key:"writeLandDetails",value:function(e){var t,a,n=this;e.preventDefault();var i,s=0,l=0;t=this.db.collection("UserBase").doc(this.state.email).collection("land-tax"),this.state.email?this.db.collection("UserBase").doc(this.state.email).get().then(function(e){e.data()?(a=t.where("kittaId","==",parseFloat(n.state.kittaId)).where("Location.ward","==",parseFloat(n.state.ward)).where("Location.municipality","==",n.state.municipality).where("Location.province","==",n.state.province).where("Location.district","==",n.state.district),console.log(a),a.get().then(function(e){e.forEach(function(e){l++,console.log(e.id," => ",e.data()),i=e.id})}).then(function(){t.get().then(function(e){e.forEach(function(e){console.log(e.id," =>",e.data()),s<parseFloat(e.id)&&(s=parseFloat(e.id))})}).then(function(){0===l?(t.doc((parseFloat(s)+1).toString()).set(Object(b.a)({Location:{province:n.state.province,district:n.state.district,municipality:n.state.municipality,ward:parseFloat(n.state.ward)},kittaId:parseFloat(n.state.kittaId),taxAmount:parseFloat(n.state.taxAmountLand),area:parseFloat(n.state.area)},"due date",h.a.firestore.Timestamp.fromDate(new Date(n.state.dueDateLand))),{merge:!0}),window.alert("data added successfully")):(t.doc(i.toString()).set(Object(b.a)({Location:{province:n.state.province,district:n.state.district,municipality:n.state.municipality,ward:parseFloat(n.state.ward)},kittaId:parseFloat(n.state.kittaId),taxAmount:parseFloat(n.state.taxAmountLand),area:parseFloat(n.state.area)},"due date",h.a.firestore.Timestamp.fromDate(new Date(n.state.dueDateLand))),{merge:!0}),window.alert("data updated"))})}).catch(function(e){console.log("Error getting documents: ",e)})):window.alert("User does not exist")}):window.alert("User cannot be empty")}},{key:"dropChange",value:function(e){console.log(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"precords container"},i.a.createElement("form",null,i.a.createElement("section",null,i.a.createElement("h2",null,"Personal Details"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"InputEmail1"},"Email Address"),i.a.createElement("input",{value:this.state.email,name:"email",type:"email",onChange:this.handleChange,className:"form-control",id:"InputEmail1",placeholder:"Enter email"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Name"),i.a.createElement("input",{value:this.state.name,name:"name",className:"form-control",type:"text",id:"name",onChange:this.handleChange,placeholder:"Name"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"citizenship"},"Citizenship Number"),i.a.createElement("input",{value:this.state.citizenship_num,name:"citizenship_num",className:"form-control",id:"citizenship",type:"text",onChange:this.handleChange,placeholder:"Citizenship Number"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"dateofbirth"},"Date of Birth"),i.a.createElement("input",{value:this.state.dob,name:"dob",type:"text",id:"dateofbirth",onChange:this.handleChange,className:"form-control",placeholder:"Date in AD"})),i.a.createElement("button",{onClick:this.writeDetails,className:"btn btn-primary"},"Write")),i.a.createElement("section",null,i.a.createElement("h2",null," Vehicle details here "),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"drop-vehicle",position:"left"},"Vehicle Type"),i.a.createElement("select",{id:"drop-vehicle",className:"custom-select"},i.a.createElement("option",null," two-wheeler"),i.a.createElement("option",null," four-wheeler"))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"vrn"},"Vehicle Registration Number"),i.a.createElement("input",{value:this.state.VRN,className:"form-control",name:"VRN",type:"text",id:"vrn",onChange:this.handleChange,placeholder:"Eg: BA 2 CHA 0000"})),i.a.createElement("div",{class:"form-row"},i.a.createElement("div",{class:"col-md-6 mb-3"},i.a.createElement("label",{for:"inputDate",position:"left"},"Due date"),i.a.createElement("input",{value:this.state.dueDate,className:"form-control",id:"inputDate",name:"dueDate",type:"date",onChange:this.handleChange,placeholder:"Eg: 12th March 2019"})),i.a.createElement("div",{class:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"inputTax",position:"left"},"Tax amount"),i.a.createElement("input",{value:this.state.taxAmount,id:"inputTax",name:"taxAmount",className:"form-control",type:"number",min:"0",onChange:this.handleChange,placeholder:"Rs 1000"})),i.a.createElement("button",{onClick:this.writeVehicleDetails,className:"btn btn-primary"},"Submit"))),i.a.createElement("section",null,i.a.createElement("h2",null,"Land details"),i.a.createElement("label",{htmlFor:"inputLocation"},"Enter Location"),i.a.createElement("div",{class:"form-row",id:"inputLocation"},i.a.createElement("div",{class:"col-md-3 mb-3"},i.a.createElement("input",{value:this.state.province,id:"inputprovince",name:"province",className:"form-control",type:"text",onChange:this.handleChange,placeholder:" Province"})),i.a.createElement("div",{class:"col-md-3 mb-3"},i.a.createElement("input",{value:this.state.district,id:"inputdistrict",name:"district",className:"form-control",type:"text",onChange:this.handleChange,placeholder:" District "})),i.a.createElement("div",{class:"col-md-3 mb-3"},i.a.createElement("input",{value:this.state.municipality,id:"inputmuni",name:"municipality",className:"form-control",type:"text",onChange:this.handleChange,placeholder:" Municipality"})),i.a.createElement("div",{class:"col-md-3 mb-3"},i.a.createElement("input",{value:this.state.ward,id:"inputward",name:"ward",type:"number",className:"form-control",min:"1",onChange:this.handleChange,placeholder:" Ward"}))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{class:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"inputkitta"},i.a.createElement("i",null,"Kitta Number")),i.a.createElement("input",{value:this.state.kittaId,id:"inputkitta",name:"kittaId",className:"form-control",onChange:this.handleChange,placeholder:"\u0915\u093f\u0924\u094d\u0924\u093e \u0928\u092e\u094d\u092c\u0930"})),i.a.createElement("div",{class:"col-md-6 mb-3"}," ",i.a.createElement("label",{htmlFor:"area"},"Area"),i.a.createElement("input",{value:this.state.area,id:"area",name:"area",className:"form-control",onChange:this.handleChange,placeholder:"Area in sq. meters"}),"                            ")),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{class:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"inputDate",position:"left"},"Due date"),i.a.createElement("input",{value:this.state.dueDateLand,className:"form-control",id:"inputDateLand",name:"dueDateLand",type:"date",onChange:this.handleChange,placeholder:"Eg: 12th March 2019"})),i.a.createElement("div",{class:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"inputTax",position:"left"},"Tax amount"),i.a.createElement("input",{value:this.state.taxAmountLand,className:"form-control",id:"inputTaxLand",name:"taxAmountLand",type:"number",min:"0",onChange:this.handleChange,placeholder:"Rs 5000"})),i.a.createElement("button",{onClick:this.writeLandDetails,className:"btn btn-primary"},"Submit")))))}}]),t}(n.Component),I=(a(132),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.signup=a.signup.bind(Object(f.a)(Object(f.a)(a))),a.writeDetails=a.writeDetails.bind(Object(f.a)(Object(f.a)(a))),a.signupAndWriteDetails=a.signupAndWriteDetails.bind(Object(f.a)(Object(f.a)(a))),a.handleRadioButton=a.handleRadioButton.bind(Object(f.a)(Object(f.a)(a))),a.handlePhoto=a.handlePhoto.bind(Object(f.a)(Object(f.a)(a))),a.db=p.firestore(),a.state={email:"",password:"",isAdmin:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,"radio"===e.target.type?e.target.checked:e.target.value))}},{key:"handleRadioButton",value:function(e){this.setState({value:e})}},{key:"handlePhoto",value:function(e){if(this.state.email){var t=e.target.files[0];h.a.storage().ref(this.state.email.toString()+"/profilepic.jpg").put(t),console.log("Photo PUT!!")}else window.alert("Enter an e-mail ID")}},{key:"signup",value:function(){this.state.password!==this.state.confirm_password?window.alert("Passwords do not match"):p.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).catch(function(e){window.alert(e.code,e.message,"Email format is wrong.")})}},{key:"writeDetails",value:function(){var e;this.db.collection("UserBase").doc(this.state.email).set((e={},Object(b.a)(e,"Citizenship Number",this.state.citizenship_num),Object(b.a)(e,"Date of Birth",h.a.firestore.Timestamp.fromDate(new Date(this.state.dob))),Object(b.a)(e,"Name",this.state.name),Object(b.a)(e,"isAdmin",2===this.state.value),e)).then(function(){window.alert("User successfully registered!")}).catch(function(e){console.error("Error writing document: ",e)})}},{key:"signupAndWriteDetails",value:function(e){e.preventDefault(),this.signup(),this.writeDetails()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement("h1",null,"Add a New User")),i.a.createElement("div",{className:"container"},i.a.createElement("form",null,i.a.createElement("section",null,i.a.createElement("h2",null,"Login Details"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"InputEmail1"}," Email Address"),i.a.createElement("input",{value:this.state.email,onChange:this.handleChange,required:"required",type:"email",name:"email",className:"form-control",id:"InputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),i.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"}," We will never share your email with anyone else.")),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"InputPassword1"},"Password"),i.a.createElement("input",{value:this.state.password,onChange:this.handleChange,type:"password",required:"required",name:"password",className:"form-control",id:"InputPassword1",placeholder:"Enter password"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"InputPassword2"},"Confirm Password"),i.a.createElement("input",{value:this.state.confirm_password,onChange:this.handleChange,type:"password",required:"required",name:"confirm_password",className:"form-control",id:"InputPassword2",placeholder:"Confirm password"}))),i.a.createElement("section",null,i.a.createElement("h2",null,"User Details"),i.a.createElement("div",{class:"form-check form-check-inline"},i.a.createElement("input",{class:"form-check-input",type:"radio",name:"isAdmin",id:"user",onChange:function(){return e.handleRadioButton(1)},checked:1===this.state.value}),i.a.createElement("label",{class:"form-check-label",for:"user"},"User")),i.a.createElement("div",{class:"form-check form-check-inline"},i.a.createElement("input",{class:"form-check-input",type:"radio",name:"isAdmin",id:"admin",onChange:function(){return e.handleRadioButton(2)},checked:2===this.state.value}),i.a.createElement("label",{class:"form-check-label",for:"admin"},"Admin")),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Name"),i.a.createElement("input",{value:this.state.name,name:"name",type:"text",required:"required",onChange:this.handleChange,className:"form-control",id:"name"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"citizenship"},"Citizenship Number"),i.a.createElement("input",{value:this.state.citizenship_num,name:"citizenship_num",type:"text",required:"required",onChange:this.handleChange,className:"form-control",id:"citizenship"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"dob"},"Date of Birth"),i.a.createElement("input",{value:this.state.dob,name:"dob",type:"date",required:"required",onChange:this.handleChange,placeholder:"Date in AD",className:"form-control",id:"dob"})),i.a.createElement("label",{for:"photo"},"Photo"),i.a.createElement("div",{className:"input-group mb-3"},i.a.createElement("div",{className:"custom-file photo-box",style:{border:"1px solid #ced4da","border-radius":"0.25rem"}},i.a.createElement("input",{className:"my-input",name:"photoLocation",onChange:this.handlePhoto,required:"required",accept:"image/*",type:"file",id:"photo","aria-describedby":"inputGroupFileAddon01"})))),i.a.createElement("button",{onClick:this.signupAndWriteDetails,style:{marginLeft:"25px"},className:"btn btn-success"},"Create User"))))}}]),t}(n.Component)),S=a(65),L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).logout=a.logout.bind(Object(f.a)(Object(f.a)(a))),a.changelink=a.changelink.bind(Object(f.a)(Object(f.a)(a))),a.verifyAdmin=a.verifyAdmin.bind(Object(f.a)(Object(f.a)(a))),a.db=p.firestore(),a.email=a.props.user,a.state={openTab:"Dashboard",toggler:"disappear",loaded:!1,isAdmin:!1},console.log("after promise",a.state.isAdmin),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(){p.auth().signOut()}},{key:"changelink",value:function(e){this.setState({openTab:e})}},{key:"verifyAdmin",value:function(e){var t=this;e?this.db.collection("UserBase").doc(e).get().then(function(e){t.setState({isAdmin:e.data().isAdmin})}).then(function(){return t.setState({loaded:!0})}):console.log("user null")}},{key:"render",value:function(){var e,t=this.props.user;return t=this.props.user,!1===this.state.loaded&&this.verifyAdmin(t),"Dashboard"===this.state.openTab?e=i.a.createElement(y,null):"Add User"===this.state.openTab?e=i.a.createElement(I,null):"Edit Details"===this.state.openTab&&(e=i.a.createElement(A,null)),i.a.createElement("div",null,this.state.loaded?i.a.createElement("div",null,i.a.createElement("div",{className:"sticky-top top-bar bg-dark"},this.state.isAdmin?i.a.createElement(x,{link:this.state.openTab,handler:this.changelink,user:t,signout:this.logout}):i.a.createElement(N,{link:this.state.openTab,handler:this.changelink,user:t,signout:this.logout})),i.a.createElement("div",{className:"content-window"},i.a.createElement("div",null,this.state.isAdmin?e:"Dashboard"===this.state.openTab?i.a.createElement(v,{user:t}):i.a.createElement(C,{user:t})))):i.a.createElement("div",null,i.a.createElement(S.a,null)))}}]),t}(n.Component),U=(a(133),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={user:{}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;p.auth().onAuthStateChanged(function(t){t?(e.setState({user:t}),console.log("Appjs",t)):e.setState({user:null})})}},{key:"render",value:function(){if(this.state.user)var e=this.state.user.email;return i.a.createElement("div",{className:"App"},console.log(e),this.state.user?i.a.createElement(L,{user:e}):i.a.createElement(g,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(68);l.a.render(i.a.createElement(B.a,null,i.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},62:function(e,t,a){},69:function(e,t,a){e.exports=a(142)},74:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.91c54cd4.chunk.js.map